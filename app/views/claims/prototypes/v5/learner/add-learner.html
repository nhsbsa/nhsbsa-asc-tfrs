{% extends "../layouts/claims-main.html" %}
{% set claim = null %}
{% for c in data.claims %}
  {% if c.claimID == data.id %}
    {% set claim = c %}
  {% endif %}
{% endfor %}

{% block beforeContent %}
<a href="javascript:history.back()" class="govuk-back-link">Back</a>
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      {% if data.inClaim == 'true' %}<span class="govuk-caption-l">Claim: {{ claim.claimID }}</span>{% endif %}
        <h1 class="govuk-heading-l">New learner details</h1>
    </div>
    <div class="govuk-grid-column-two-thirds">
        <form action="/v5/create-learner" method="post" novalidate>
            <div class="govuk-form-group">
                <label class="govuk-label govuk-label--s" for="full-name" aria-describedby="full-name-hint">
                  Full name
                </label>
                <div id="role-type-hint" class="govuk-hint">
                  Their full name as it would appear on certification.
                </div>
                <input class="govuk-input" id="full-name" name="fullName" type="text" spellcheck="false" autocomplete="name">
            </div>
            <div class="govuk-form-group">
                <label class="govuk-label govuk-label--s" for="national-insurance-number">
                  National Insurance number
                </label>
                <div id="national-insurance-number-hint" class="govuk-hint">
                  For example, ‘QQ 12 34 56 C’.
                </div>
                <input class="govuk-input govuk-input--width-10 govuk-input--extra-letter-spacing" id="national-insurance-number" name="nationalInsuranceNumber" type="text" spellcheck="false" aria-describedby="national-insurance-number-hint">
                <details class="govuk-details govuk-!-padding-top-2">
                    <summary class="govuk-details__summary">
                      <span class="govuk-details__summary-text">
                        Why do we need this?
                      </span>
                    </summary>
                    <div class="govuk-details__text">
                      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                    </div>
                </details>
            </div>
            <div class="govuk-form-group">
                <label class="govuk-label govuk-label--s" for="jobTitle">
                  Job title
                </label>
                <input class="govuk-input" id="jobTitle" name="jobTitle" type="text">
            </div>
            <div class="govuk-form-group">
              <fieldset class="govuk-fieldset" aria-describedby="role-type-hint">
                <label class="govuk-label govuk-label--s" for="jobTitle">
                  Role group
                </label>
                <div id="role-type-hint" class="govuk-hint">
                  Select one option
                </div>
                <div class="govuk-radios" data-module="govuk-radios">
                  {% set counter = 1 %}
                  {% for role in data.roleTypes %}
                  <div class="govuk-radios__item">
                    <input class="govuk-radios__input" id="role-type-{{ counter }}" name="roleType" type="radio" value="{{ role.rolename }}" aria-describedby="{{ role.rolename }}-item-hint" data-aria-controls="conditional-registration-details-{{ counter }}">
                    <label class="govuk-label govuk-radios__label" for="role-type-{{ counter }}">
                      {{ role.rolename }}
                    </label>
                    <div id="{{ role.rolename }}-item-hint" class="govuk-hint govuk-radios__hint">
                      {{ role.description }}
                    </div>
                    {% if role.registered == true %}
                    <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="conditional-registration-details-{{ counter }}">
                      <div class="govuk-form-group">
                        <label class="govuk-label" for="regOrg">
                          Registration Organisation
                        </label>
                        <input class="govuk-input govuk-!-width-full" id="regOrg" name="regOrg" spellcheck="false">
                      </div>
                      <div class="govuk-form-group">
                        <label class="govuk-label" for="regID">
                          Registration ID
                        </label>
                        <input class="govuk-input govuk-!-width-full" id="regID" name="regID" spellcheck="false">
                      </div>
                    </div>
                    {% endif %}
                  </div>
                  {% set counter = counter + 1 %}
                  {% endfor %}
                </div>
              </fieldset>
            </div>
            <h2 class="govuk-heading-m">What happens next</h2>
            <p class="govuk-body">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
            {% if data.inClaim == 'true' %}
            <button type="submit" class="govuk-button" data-module="govuk-button">
                Save and add to claim
            </button>
            {% else %}
            <button type="submit" class="govuk-button" data-module="govuk-button">
              Add new learner
            </button>
            {% endif %}
        </form>
    </div>
    <div class="govuk-grid-column-one-third">
      <hr class="govuk-!-margin-bottom-5">
      <h2 class="govuk-heading-m">Get help adding a learner</h2>
      <p class="govuk-body"><a href="#" class="govuk-link">Why we need to know their National Insurance number</a></p>
      <p class="govuk-body"><a href="#" class="govuk-link">What do role groups mean</a>
    </div>
</div>

{% endblock %}