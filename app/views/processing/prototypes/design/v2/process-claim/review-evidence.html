{% extends "../layouts/processing-main.html" %}

{% set claim = data.id | findClaim_V8(data.claims) %}
{% set criteriaList = data.type | returnCriteria_V2(data.criteria) %}

{% block pageTitle %}
{{ ["Review evidence claim: ", claim.claimID, " - process a claim"] | join }}
{% endblock %}

{% block beforeContent %}
<a href="claim" class="govuk-back-link">Back</a>
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <span class="govuk-caption-l">Claim reference number: {{ claim.claimID }}</span>
        <h1 class="govuk-heading-l">Review evidence of {{data.type}}</h1>
    </div>
</div>

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <p class="govuk-body">Review the evidence of {{data.type}} provided for this claim.</p>
        <h3 class="govuk-heading-s">Evidence of {{data.type}}</h3>
        <dl class="govuk-summary-list">
            {% if data.type == "payment" %}
            {% for evidence in claim.evidenceOfPayment %}
            {% include "../_components/file-section.html" %}
            {% endfor %}
            {% elif data.type == "completion" %}
            {% set evidence = claim.evidenceOfCompletion %}
            {% include "../_components/file-section.html" %}
            {% endif %}
        </dl>
        <form action="../evidence-check-handler" method="post" novalidate>

            {% for item in criteriaList %}
            <div class="govuk-form-group">
                <fieldset class="govuk-fieldset">
                    <legend class="govuk-fieldset__legend">
                        {{ item.question }}
                    </legend>
                    <div class="govuk-radios" data-module="govuk-radios">
                        <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="criteria{{item.id}}" name="criteria{{item.id}}"
                                type="radio" value="yes">
                            <label class="govuk-label govuk-radios__label" for="criteria{{item.id}}">
                                Yes
                            </label>
                        </div>
                        <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="criteria{{item.id}}-2" name="criteria{{item.id}}"
                                type="radio" value="no">
                            <label class="govuk-label govuk-radios__label" for="criteria{{item.id}}-2">
                                No
                            </label>
                        </div>
                    </div>
                </fieldset>
            </div>
            {% endfor %}
            <div class="govuk-form-group govuk-character-count" data-module="govuk-character-count"
                data-maxlength="200">
                <h1 class="govuk-label-wrapper">
                    <label class="govuk-label" for="notes">
                        Additional notes for the submitter? (optional)
                    </label>
                </h1>
                <div id="with-hint-hint" class="govuk-hint">
                    These notes will be added to the system generated note that is sent to the submitter.
                </div>
                <textarea class="govuk-textarea govuk-js-character-count" id="notes" name="notes" rows="5"
                    aria-describedby="with-hint-info with-hint-hint"></textarea>
                <div id="with-hint-info" class="govuk-hint govuk-character-count__message">
                    You can enter up to 200 characters
                </div>
            </div>
            <button type="submit" class="govuk-button" data-module="govuk-button">
                Continue
            </button>
        </form>
    </div>
    <div class="govuk-grid-column-one-half">
    </div>
</div>

{% endblock %}